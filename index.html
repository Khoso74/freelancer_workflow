<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, maximum-scale=1"
  />
  <title>Team Dashboard</title>

  <!-- TailwindCSS CDN (works in Apps Script WebApp) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: {
              50:  "#f0f7f2",
              100: "#d9ecdf",
              200: "#b4d9c1",
              300: "#8fc6a3",
              400: "#6ab385",
              500: "#47a068",
              600: "#2f7f4f",
              700: "#1f5e3a",
              800: "#144430",
              900: "#0e3325",
            }
          },
          boxShadow: {
            soft: "0 8px 24px rgba(0,0,0,.06)"
          },
          borderRadius: {
            xl2: "1.25rem"
          }
        }
      }
    }
  </script>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    html, body { font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; background:#f3f5f4; }
    /* Smooth scrollbar for sidebar (optional) */
    .nice-scroll::-webkit-scrollbar { width: 8px; }
    .nice-scroll::-webkit-scrollbar-thumb { background:#cbd5e1; border-radius: 8px; }
  </style>

  <!-- Icons via SVG inline (no external dependency needed) -->
  <!-- Chart.js for the task progress chart -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
</head>
<body class="min-h-screen">
  <div class="min-h-screen flex">

    <!-- Sidebar -->
    <aside class="w-[260px] bg-brand-900 text-white p-5 flex flex-col nice-scroll">
      <!-- Brand -->
      <div class="flex items-center gap-3 mb-8">
        <div class="w-10 h-10 rounded-full bg-brand-600 grid place-content-center font-bold">C</div>
        <div>
          <div class="font-semibold">Creative Corner</div>
          <div class="text-xs text-brand-200">{{TEAM_SIZE}} Members</div>
        </div>
      </div>

      <!-- Nav -->
      <nav class="space-y-1 text-sm/6">
        <!-- helper: .nav-item active -->
        <a class="flex items-center justify-between rounded-lg px-3 py-2 bg-brand-800/60" href="#dashboard">
          <span class="flex items-center gap-3">
            <!-- icon -->
            <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6"/>
            </svg>
            Dashboard
          </span>
          <svg class="w-4 h-4 opacity-70" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"/>
          </svg>
        </a>

        <!-- simple generator for items -->
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#accounting">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M3 10h18M7 15h1m4 0h1m4 0h1M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
          Accounting
        </a>
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#expenses">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-2.21 0-4 1.343-4 3s1.79 3 4 3 4 1.343 4 3-1.79 3-4 3m0-12c2.21 0 4-1.343 4-3s-1.79-3-4-3-4 1.343-4 3 1.79 3 4 3z"/>
          </svg>
          Expenses
        </a>
        <a class="flex items-center justify-between rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#projects">
          <span class="flex items-center gap-3">
            <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M3 7h7v10H3zM14 7h7v6h-7zM14 15h7v2h-7z"/>
            </svg>
            Projects
          </span>
          <span class="text-xs bg-brand-600/80 px-2 py-0.5 rounded-full">{{PROJECTS_COUNT}}</span>
        </a>

        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#work-inquiry">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 10h.01M12 10h.01M16 10h.01M21 16a2 2 0 01-2 2H7l-4 4V6a2 2 0 012-2h14a2 2 0 012 2v10z"/>
          </svg>
          Work Inquiry
        </a>
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#contracts">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6M9 16h6M7 4h10a2 2 0 012 2v12l-4-3H7a2 2 0 01-2-2V6a2 2 0 012-2z"/>
          </svg>
          Contracts
        </a>
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#calendar">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3M3 10h18M5 12v8h14v-8H5z"/>
          </svg>
          Calendar
        </a>
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#clients">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M16 11c1.657 0 3-1.79 3-4s-1.343-4-3-4-3 1.79-3 4 1.343 4 3 4zM8 11c1.657 0 3-1.79 3-4S9.657 3 8 3 5 4.79 5 7s1.343 4 3 4zm8 2c-2.67 0-8 1.336-8 4v3h16v-3c0-2.664-5.33-4-8-4zM8 13c-2.21 0-6 1.105-6 3v4h6"/>
          </svg>
          Clients
        </a>
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#reports">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 17v-6h6v6M5 21h14a2 2 0 002-2V7l-6-4H7a2 2 0 00-2 2v14a2 2 0 002 2z"/>
          </svg>
          Reports
        </a>
        <a class="flex items-center gap-3 rounded-lg px-3 py-2 hover:bg-brand-800/40 transition" href="#settings">
          <svg class="w-5 h-5 opacity-90" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317a1 1 0 011.35-.436l1.618.809a1 1 0 00.894 0l1.618-.81a1 1 0 011.35.436l.862 1.493a1 1 0 00.75.5l1.803.26a1 1 0 01.832.99v1.62a1 1 0 01-.832.99l-1.803.26a1 1 0 00-.75.5l-.862 1.493a1 1 0 01-1.35.436l-1.618-.809a1 1 0 00-.894 0l-1.618.81a1 1 0 01-1.35-.436l-.862-1.493a1 1 0 00-.75-.5l-1.803-.26a1 1 0 01-.832-.99v-1.62a1 1 0 01.832-.99l1.803-.26a1 1 0 00.75-.5l.862-1.493zM12 15a3 3 0 100-6 3 3 0 000 6z"/>
          </svg>
          Settings
        </a>
      </nav>

      <!-- Bottom: Light mode + settings icon -->
      <div class="mt-auto pt-6 flex items-center justify-between text-xs text-brand-200">
        <span>Light mode</span>
        <button class="inline-flex items-center gap-2 bg-brand-700/60 hover:bg-brand-700 px-2.5 py-1 rounded-lg">
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2m0 14v2m7-9h2M3 12H1m15.364 6.364l1.414 1.414M6.222 6.222L4.808 4.808m12.728 0l1.414 1.414M6.222 17.778l-1.414 1.414"/>
          </svg>
          <span>Toggle</span>
        </button>
      </div>
    </aside>

    <!-- Main -->
    <main class="flex-1 p-6">
      <!-- Top bar -->
      <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5 mb-6">
        <div class="flex items-center gap-6">
          <div class="flex-1">
            <h1 class="text-xl sm:text-2xl font-semibold">Hi {{USER_NAME}}</h1>
            <p class="text-slate-500 text-sm">This is your Freelance Team dashboard overview</p>
          </div>

          <!-- search -->
          <div class="hidden md:flex items-center flex-1 max-w-xl">
            <div class="relative w-full">
              <input
                id="search"
                placeholder="Type to search"
                class="w-full rounded-lg border border-slate-200 px-4 py-2 pl-10 text-sm focus:outline-none focus:ring-2 focus:ring-brand-400"
                />
              <svg class="w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-slate-400" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"/>
              </svg>
            </div>
          </div>

          <div class="flex items-center gap-4">
            <button aria-label="Notifications" class="relative p-2 rounded-lg hover:bg-slate-100">
              <svg class="w-6 h-6 text-slate-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-5-5.917V4a1 1 0 10-2 0v1.083A6 6 0 006 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"/>
              </svg>
              <span class="absolute top-1 right-1 w-2.5 h-2.5 bg-rose-500 rounded-full"></span>
            </button>
            <div class="flex items-center gap-3">
              <img class="w-9 h-9 rounded-full object-cover" src="{{PROFILE_PHOTO_URL}}" alt="Profile" />
              <div class="hidden sm:block">
                <div class="text-sm font-medium">{{USER_NAME}}</div>
                <div class="text-xs text-slate-500">{{USER_ROLE}}</div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- KPI cards -->
      <div class="grid md:grid-cols-2 xl:grid-cols-4 gap-4 mb-6">
        <!-- Card -->
        <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-9 h-9 rounded-full bg-emerald-50 grid place-content-center">
              <svg class="w-5 h-5 text-emerald-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8c-3.866 0-7 1.79-7 4s3.134 4 7 4 7 1.79 7 4-3.134 4-7 4m0-16c3.866 0 7-1.79 7-4s-3.134-4-7-4-7 1.79-7 4 3.134 4 7 4z"/>
              </svg>
            </div>
            <div class="text-slate-500 text-sm">This Month Revenue</div>
          </div>
          <div class="flex items-end justify-between">
            <div class="text-2xl font-semibold">₹ {{REVENUE_THIS_MONTH}}</div>
            <div class="text-emerald-600 text-sm font-medium">+{{REVENUE_GROWTH}}%</div>
          </div>
        </div>

        <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-9 h-9 rounded-full bg-sky-50 grid place-content-center">
              <svg class="w-5 h-5 text-sky-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <div class="text-slate-500 text-sm">Project Accepted</div>
          </div>
          <div class="flex items-end justify-between">
            <div class="text-2xl font-semibold">+{{PROJECTS_ACCEPTED}}</div>
            <div class="text-rose-600 text-sm font-medium">{{PROJECTS_ACCEPTED_CHANGE}}%</div>
          </div>
        </div>

        <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-9 h-9 rounded-full bg-lime-50 grid place-content-center">
              <svg class="w-5 h-5 text-lime-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h12"/>
              </svg>
            </div>
            <div class="text-slate-500 text-sm">Delivered On Time</div>
          </div>
          <div class="flex items-end justify-between">
            <div class="text-2xl font-semibold">{{DELIVERED_ON_TIME}}%</div>
            <div class="text-emerald-600 text-sm font-medium">+{{DELIVERED_CHANGE}}%</div>
          </div>
        </div>

        <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="flex items-center gap-3 mb-3">
            <div class="w-9 h-9 rounded-full bg-emerald-50 grid place-content-center">
              <svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" d="M12 8v4l3 3M12 3a9 9 0 110 18 9 9 0 010-18z"/>
              </svg>
            </div>
            <div class="text-slate-500 text-sm">Responded On Time</div>
          </div>
          <div class="flex items-end justify-between">
            <div class="text-2xl font-semibold">{{RESPONSE_TIME}}</div>
            <div class="text-rose-600 text-sm font-medium">{{RESPONSE_CHANGE}}%</div>
          </div>
        </div>
      </div>

      <!-- Middle: left chart + right active projects -->
      <div class="grid xl:grid-cols-3 gap-6 mb-6">
        <!-- Task Progress -->
        <div class="xl:col-span-2 bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="flex items-center justify-between mb-4">
            <h2 class="font-semibold">Task Progress</h2>
            <div class="flex items-center gap-1 text-xs bg-slate-50 border border-slate-200 rounded-lg p-1">
              <button class="px-2 py-1 rounded-md hover:bg-white">Daily</button>
              <button class="px-2 py-1 rounded-md hover:bg-white">Weekly</button>
              <button class="px-2 py-1 rounded-md bg-white shadow-sm">Monthly</button>
            </div>
          </div>
          <canvas id="tasksChart" height="110"></canvas>
          <div class="flex justify-between text-xs text-slate-500 mt-3">
            <span>{{CHART_X_START}}</span><span>{{CHART_X_END}}</span>
          </div>
        </div>

        <!-- Active Projects -->
        <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="flex items-center justify-between mb-4">
            <h2 class="font-semibold">Active Projects</h2>
            <a class="text-sm text-brand-600 hover:underline" href="#see-all">See All</a>
          </div>

          <div class="space-y-4">
            <!-- item -->
            <div class="flex items-center gap-3">
              <div class="w-9 h-9 rounded-full bg-emerald-100 grid place-content-center font-semibold text-emerald-700">Q</div>
              <div class="flex-1">
                <div class="font-medium">{{PROJ_1_NAME}}</div>
                <div class="text-xs text-slate-500">{{PROJ_1_META}}</div>
              </div>
              <div class="text-xs text-slate-400">{{PROJ_1_AGE}}</div>
            </div>

            <div class="flex items-center gap-3">
              <img class="w-9 h-9 rounded-full" src="{{PROJ_2_AVATAR}}" alt="">
              <div class="flex-1">
                <div class="font-medium">{{PROJ_2_NAME}}</div>
                <div class="text-xs text-slate-500">{{PROJ_2_META}}</div>
              </div>
              <div class="text-xs text-slate-400">{{PROJ_2_AGE}}</div>
            </div>

            <div class="flex items-center gap-3">
              <div class="w-9 h-9 rounded-lg bg-sky-100 grid place-content-center font-semibold text-sky-700">ST</div>
              <div class="flex-1">
                <div class="font-medium">{{PROJ_3_NAME}}</div>
                <div class="text-xs text-slate-500">{{PROJ_3_META}}</div>
              </div>
              <div class="text-xs text-slate-400">{{PROJ_3_AGE}}</div>
            </div>

            <div class="flex items-center gap-3">
              <div class="w-9 h-9 rounded-lg bg-emerald-100 grid place-content-center font-semibold text-emerald-700">MI</div>
              <div class="flex-1">
                <div class="font-medium">{{PROJ_4_NAME}}</div>
                <div class="text-xs text-slate-500">{{PROJ_4_META}}</div>
              </div>
              <div class="text-xs text-slate-400">{{PROJ_4_AGE}}</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Bottom: Employee Region + Latest Clients -->
      <div class="grid xl:grid-cols-3 gap-6">
        <!-- Employee region (map placeholder block kept clean) -->
        <div class="xl:col-span-2 bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="font-semibold mb-4">Employee region</div>
          <div class="grid md:grid-cols-3 gap-6">
            <!-- simple legend -->
            <div class="space-y-2">
              <div class="flex items-center gap-2 text-sm">
                <span class="w-2.5 h-2.5 rounded-full bg-sky-500"></span> England
                <span class="ml-auto text-slate-500">{{ENG_EMP}} Employee</span>
              </div>
              <div class="flex items-center gap-2 text-sm">
                <span class="w-2.5 h-2.5 rounded-full bg-amber-500"></span> France
                <span class="ml-auto text-slate-500">{{FRA_EMP}} Employee</span>
              </div>
              <div class="flex items-center gap-2 text-sm">
                <span class="w-2.5 h-2.5 rounded-full bg-emerald-600"></span> Poland
                <span class="ml-auto text-slate-500">{{POL_EMP}} Employee</span>
              </div>
            </div>
            <!-- map placeholder -->
            <div class="md:col-span-2">
              <div class="aspect-[3/2] rounded-xl border border-slate-200 bg-gradient-to-br from-slate-50 to-slate-100 grid place-content-center text-slate-400">
                <!-- You can replace this with an actual SVG map if needed -->
                <div class="text-sm">Map Placeholder (SVG/Canvas)</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Latest Clients -->
        <div class="bg-white rounded-xl2 shadow-soft border border-slate-100 p-5">
          <div class="font-semibold mb-4">Latest Clients</div>
          <div class="space-y-4">
            <!-- Row -->
            <div class="flex items-center gap-3">
              <img class="w-10 h-10 rounded-full object-cover" src="{{CLIENT_1_AVATAR}}" alt="" />
              <div class="flex-1">
                <div class="font-medium">{{CLIENT_1_NAME}}</div>
                <div class="text-xs text-slate-500">{{CLIENT_1_PROJECT}}</div>
              </div>
              <span class="text-[11px] px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-200">{{CLIENT_1_STATUS}}</span>
              <button class="ml-2 text-sm px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50">Chat</button>
            </div>

            <div class="flex items-center gap-3">
              <img class="w-10 h-10 rounded-full object-cover" src="{{CLIENT_2_AVATAR}}" alt="" />
              <div class="flex-1">
                <div class="font-medium">{{CLIENT_2_NAME}}</div>
                <div class="text-xs text-slate-500">{{CLIENT_2_PROJECT}}</div>
              </div>
              <span class="text-[11px] px-2 py-1 rounded-full bg-emerald-50 text-emerald-700 border border-emerald-200">{{CLIENT_2_STATUS}}</span>
              <button class="ml-2 text-sm px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50">Chat</button>
            </div>

            <div class="flex items-center gap-3">
              <img class="w-10 h-10 rounded-full object-cover" src="{{CLIENT_3_AVATAR}}" alt="" />
              <div class="flex-1">
                <div class="font-medium">{{CLIENT_3_NAME}}</div>
                <div class="text-xs text-slate-500">{{CLIENT_3_PROJECT}}</div>
              </div>
              <span class="text-[11px] px-2 py-1 rounded-full bg-amber-50 text-amber-700 border border-amber-200">{{CLIENT_3_STATUS}}</span>
              <button class="ml-2 text-sm px-3 py-1.5 rounded-lg border border-slate-200 hover:bg-slate-50">Chat</button>
            </div>
          </div>
        </div>
      </div>

      <footer class="text-center text-xs text-slate-400 my-8">© {{YEAR}} {{COMPANY_NAME}} — Dashboard</footer>
    </main>
  </div>

  <!-- Chart init -->
  <script>
    // Replace these arrays with Apps Script data via templating
    const chartLabels = {{CHART_LABELS || '["Sep 1","Sep 2","Sep 3","Sep 4","Sep 5","Sep 6","Sep 7","Sep 8","Sep 9","Sep 10","Sep 11","Sep 12"]'}};
    const chartData   = {{CHART_DATA   || '[34,40,55,48,52,60,45,38,41,39,42,43]'}};

    const ctx = document.getElementById('tasksChart');
    if (ctx && window.Chart) {
      new Chart(ctx, {
        type: 'line',
        data: {
          labels: chartLabels,
          datasets: [{
            label: 'Tasks',
            data: chartData,
            tension: 0.4,
            fill: true,
            borderColor: '#60a5fa',
            backgroundColor: 'rgba(96,165,250,0.15)',
            pointRadius: 0,
            borderWidth: 2
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: { legend: { display: false }, tooltip: { mode: 'index', intersect: false } },
          scales: {
            x: { grid: { display: false }, ticks: { color: '#94a3b8' } },
            y: { grid: { color: 'rgba(203,213,225,0.5)' }, ticks: { color: '#94a3b8' }, suggestedMin: 0 }
          }
        }
      });
    }
  </script>
</body>
</html>
